<!DOCTYPE html>
<html>
<head>
    <title>我们时刻智能CP匹配系统</title>
    <style>
        .container { max-width: 800px; margin: 0 auto; padding: 20px; }
        textarea { width: 100%; height: 100px; margin: 10px 0; }
        .result { border: 1px solid #ccc; padding: 15px; margin-top: 20px; }
    </style>
</head>
<body>
    <div class="container">
        <h1>🔍 我们时刻智能CP匹配系统</h1>
        
        <!-- 单次匹配 -->
        <div>
            <h2>✨ 单次匹配</h2>
            <textarea id="userInfo" placeholder="输入你的个人信息..."></textarea>
            <textarea id="candidateInfo" placeholder="['候选人1信息：1、微信号:10845792697 2、性别:男 4、家乡:吉林长春 5、是否工作:在读 7、体重:85kg 8、学历:上交博士在读 9、星座:射手 10、行业:船舶工程 11、收入:0-1W 12、工作时长:965 13、mbti:INTJ 14、颜值自评:还不错┋很多人说我好看 15、颜值要求:微看 6、身高:180 16、对身高的要求:比自己低5-10cm┋比自己低10cm以上 身高需求:[140,175] 17、对体重的要求:瘦一点 3、年龄:26.0 18、年龄倾向:相差2岁以内，倾向比自己小 岁数需求:[24,28] 19、对家乡要求:要求是：〖江浙沪最佳〗 20、理想型:对学医的女孩子感兴趣，喜欢真诚的，希望对方颜值身材不错，硕/博在读 21、爱好或者特长:健身 摇滚 民谣 单簧管 萨克斯 木匠活 手工 做饭 鬼畜 整活 22、对自己的评价:我落人中然自在，本是天上逍遥的仙儿 有点颜控 自律 有边界感 ', '候选人2信息：1、微信号:WHT_2025_ 2、性别:男 4、家乡:陕西西安 5、是否工作:即将工作 7、体重:75kg 8、学历:西交本 9、星座:水瓶座 10、行业:电商 11、收入:25-30 12、工作时长:995 13、mbti:ENTJ-A 14、颜值自评:很多人说我好看 15、颜值要求:看脸 6、身高:183 16、对身高的要求:比自己低0-5cm┋比自己低5-10cm┋比自己低10cm以上 身高需求:[140,183] 17、对体重的要求:瘦一点┋其他〖微微胖〗 3、年龄:22.0 18、年龄倾向:相差2岁以内，倾向比自己小┋相差2岁以内，倾向比自己大 岁数需求:[20,24] 19、对家乡要求:无所谓 20、理想型:我比较在意相貌，比起惊艳型的外貌更喜欢耐看型的女生，会觉得大方一点的女生更有吸引力（闷骚也可以哈哈），爱好能有些重叠最好。我希望对方的情绪能够稳定一些，最好是一个安全型并且会依恋对方的人（因为我是这样）。能一起打打游戏出去玩，平时回消息比较多或者打电话也行（我交流欲很强）。还有很重要的一点是，我希望对方是一个对待感情认真的人！差不多就这样。 21、爱好或者特长:喜欢唱歌（自嗨），小时候学过好几年，自我感觉良好。平时下班没事喜欢泡健身房，增肌目标已经实现40%。我每年都会旅行2次以上，不知道算不算爱好。我会做饭，水煮肉片和可乐鸡翅是我的拿手菜。我看过很多电影，喜欢有深度有内涵的电影。我喜欢玩游戏，周末不出去玩的话就是个游戏宅，会玩很多游戏，以前钟爱竞技类游戏，现在也会经常玩休闲类的游戏，我的梦想之一就是有一个电竞房。我还会自己买酒调酒喝，调的一般，但是就是喜欢调。暂时就想到这么多，不过肯定不止这么多！ 22、对自己的评价:我比较理性，又有点闷骚，目标感比较强，会根据目标确定行动。在亲密关系属于安全型，会有些依恋对方。我觉得自己还是很有幽默细胞的，而且很会唠嗑，能够和朋友聊很久很久很久。我对陌生环境会有些提防，可能会显得有些内向。但是实际上我在熟悉的圈子里会不由自主的变的外向，并且会有些自我。我喜欢打直球，谈恋爱很专一，直男一枚。以上。 ', '候选人3信息：1、微信号:kyemyxud 2、性别:男 4、家乡:云南 5、是否工作:否 7、体重:75 8、学历:华师硕 9、星座:天秤 10、行业:半导体 11、收入:无 12、工作时长:无 13、mbti:infj 14、颜值自评:还不错 15、颜值要求:微看 6、身高:178 16、对身高的要求:比自己低0-5cm┋比自己低5-10cm┋比自己低10cm以上 身高需求:[140,178] 17、对体重的要求:瘦一点 3、年龄:22.0 18、年龄倾向:无所谓 岁数需求:[0, 40] 19、对家乡要求:无所谓 20、理想型:99-04年出生，在上海读研或工作，性格好、真诚，不颜控。希望对方也在上海发展。 21、爱好或者特长:喜欢旅行、闲逛、博物馆、公园，偶尔打游戏和健身 22、对自己的评价:虽然是个i人，但熟了之后就知道，会有些抽象，平时忙于办公室干活，想认识一下更多朋友 ', '候选人4信息：1、微信号:Dinasour77 2、性别:男 4、家乡:上海 5、是否工作:是 7、体重:72 8、学历:复旦本牛津硕 9、星座:水瓶 10、行业:金融 11、收入:(空) 12、工作时长:965 13、mbti:estj 14、颜值自评:还不错 15、颜值要求:看脸 6、身高:178 16、对身高的要求:比自己低10cm以上 身高需求:[140,168] 17、对体重的要求:无所谓 3、年龄:28.0 18、年龄倾向:无所谓 岁数需求:[0, 40] 19、对家乡要求:无所谓 20、理想型:好看 21、爱好或者特长:很多兴趣爱好 22、对自己的评价:感性又理性 ', '候选人5信息：1、微信号:18088628912 2、性别:男 4、家乡:吉林 5、是否工作:否 7、体重:65kg 8、学历:复旦本 9、星座:射手 10、行业:文学 11、收入:(空) 12、工作时长:还没有正式工作 13、mbti:infp 14、颜值自评:一般 15、颜值要求:微看 6、身高:179 16、对身高的要求:比自己高0-5cm┋比自己高5-10cm┋比自己高10cm以上┋比自己低0-5cm┋比自己低5-10cm┋比自己低10cm以上 身高需求:[140,200] 17、对体重的要求:无所谓 3、年龄:22.0 18、年龄倾向:相差2岁以内，倾向比自己大┋无所谓 岁数需求:[20,24] 19、对家乡要求:无所谓 20、理想型:学历差距不过大 21、爱好或者特长:打游戏，初学塔罗牌（新年后没太学），做饭（寝室没有这个条件了），运动（跟着攀岩社攀岩；晚上有时跑步；偶尔练习剑道），古筝（琴房每周练一次），各种户外活动 22、对自己的评价:看起来水水的其实太阳月亮都是火象？想认识聊天搭子 ', '候选人6信息：1、微信号:zp2755024930 2、性别:男 4、家乡:河南省南阳市 5、是否工作:否 7、体重:95kg 8、学历:南航硕 9、星座:处女座 10、行业:集成电路 11、收入:无 12、工作时长:无 13、mbti:ENFJ 14、颜值自评:一般 15、颜值要求:微看 6、身高:186 16、对身高的要求:比自己低0-5cm┋比自己低5-10cm┋比自己低10cm以上 身高需求:[140,186] 17、对体重的要求:无所谓 3、年龄:25.0 18、年龄倾向:相差2岁以内，倾向比自己小┋相差2岁以内，倾向比自己大 岁数需求:[23,27] 19、对家乡要求:无所谓 20、理想型:开朗活泼，想找一个理智类型的 21、爱好或者特长:基本上每天都打羽毛球，会做饭厨艺还可以，闲的时候打打csgo金铲铲之类的游戏 22、对自己的评价:大部分情况下是一个理智并且知道自己要做什么的人，但是偶尔会需要独处时间来自洽。 ', '候选人7信息：1、微信号:hermit_purple1 2、性别:男 4、家乡:合肥 5、是否工作:否 7、体重:80 8、学历:上交博 9、星座:天平 10、行业:计算机 11、收入:无 12、工作时长:9 13、mbti:ESTJ 14、颜值自评:很多人说我好看 15、颜值要求:看脸 6、身高:187 16、对身高的要求:比自己低10cm以上 身高需求:[140,177] 17、对体重的要求:瘦一点┋强壮有肌肉┋无所谓 3、年龄:27.0 18、年龄倾向:无所谓 岁数需求:[0, 40] 19、对家乡要求:无所谓 20、理想型:瘦高清秀/温柔可爱/工作努力 21、爱好或者特长:健身三年 烹饪 唱歌 羽毛球 22、对自己的评价:活泼开朗 ', '候选人8信息：1、微信号:15982978606 2、性别:男 4、家乡:四川 5、是否工作:是 7、体重:70 8、学历:上交硕 9、星座:天秤 10、行业:IC 11、收入:无 12、工作时长:965 13、mbti:mbti 14、颜值自评:一般 15、颜值要求:不看 6、身高:175 16、对身高的要求:比自己高0-5cm┋比自己高5-10cm┋比自己高10cm以上┋比自己低0-5cm┋比自己低5-10cm┋比自己低10cm以上 身高需求:[140,200] 17、对体重的要求:无所谓 3、年龄:25.0 18、年龄倾向:无所谓 岁数需求:[0, 40] 19、对家乡要求:无所谓 20、理想型:还好啦 21、爱好或者特长:健身1年，厨艺还行 22、对自己的评价:还行吧，good man ', '候选人9信息：1、微信号:15396891010 2、性别:男 4、家乡:江苏盐城 5、是否工作:否 7、体重:70 8、学历:同济硕 9、星座:狮子座 10、行业:计算机 11、收入:(空) 12、工作时长:995 13、mbti:entj 14、颜值自评:还不错 15、颜值要求:看脸 6、身高:177 16、对身高的要求:比自己低5-10cm┋比自己低10cm以上 身高需求:[140,172] 17、对体重的要求:瘦一点 3、年龄:23.0 18、年龄倾向:相差2岁以内，倾向比自己大 岁数需求:[21,25] 19、对家乡要求:要求是：〖江浙沪〗 20、理想型:瘦的 好看的 自由烂漫 有气质 21、爱好或者特长:健身 旅游 演唱会 音乐 22、对自己的评价:幽默男孩 ', '候选人10信息：1、微信号:yaohui80231 2、性别:男 4、家乡:河南 5、是否工作:否 7、体重:72 8、学历:上交硕 9、星座:摩羯座 10、行业:电子信息 11、收入:(空) 12、工作时长:上学 13、mbti:enfp 14、颜值自评:还不错 15、颜值要求:看脸 6、身高:178 16、对身高的要求:比自己低5-10cm┋比自己低10cm以上 身高需求:[140,173] 17、对体重的要求:瘦一点 3、年龄:25.0 18、年龄倾向:相差2岁以内，倾向比自己小┋相差5岁以内，倾向比自己小 岁数需求:[23,27] 19、对家乡要求:无所谓 20、理想型:比较瘦，比较好看，有点颜控，偏甜妹一点类型的 21、爱好或者特长:台球，网球 羽毛球 游泳 旅游 摄影 citywalk 等等 22、对自己的评价:我是一个比较随性开朗，不喜欢条条框框，追求快乐有意义的生活的人 ', '候选人11信息：1、微信号:13127588899 2、性别:男 4、家乡:福建宁德 5、是否工作:是 7、体重:73KG 8、学历:高科大 本 9、星座:天秤 10、行业:化学材料 11、收入:30万 12、工作时长:955 13、mbti:ENFJ 14、颜值自评:还不错 15、颜值要求:看脸┋微看 6、身高:177 16、对身高的要求:比自己高0-5cm┋比自己低0-5cm┋比自己低5-10cm┋比自己低10cm以上 身高需求:[140,182] 17、对体重的要求:瘦一点┋强壮有肌肉 3、年龄:28.0 18、年龄倾向:无所谓 岁数需求:[0, 40] 19、对家乡要求:无所谓 20、理想型:好看的 浪漫的 21、爱好或者特长:摄影 旅游 厨艺好 22、对自己的评价:我是个善良的人 ', '候选人12信息：1、微信号:18770030228 2、性别:男 4、家乡:江西南昌 5、是否工作:否 7、体重:69 8、学历:上财硕 9、星座:双鱼 10、行业:金融 11、收入:无 12、工作时长:上学 13、mbti:enfj 14、颜值自评:还不错 15、颜值要求:微看 6、身高:175 16、对身高的要求:比自己低0-5cm┋比自己低5-10cm┋比自己低10cm以上 身高需求:[140,165] 17、对体重的要求:瘦一点 3、年龄:23.0 18、年龄倾向:无所谓 岁数需求:[0, 40] 19、对家乡要求:无所谓 20、理想型:开朗，善良 21、爱好或者特长:健身1年，会指弹，喜欢喝鸡尾酒 22、对自己的评价:想交朋友，我比较幽默 ', '候选人13信息：1、微信号:W18074933496 2、性别:男 4、家乡:广西南宁 5、是否工作:否 7、体重:75kg 8、学历:上财硕 9、星座:双鱼 10、行业:金融 11、收入:无 12、工作时长:955 13、mbti:estp 14、颜值自评:一般 15、颜值要求:看脸 6、身高:181 16、对身高的要求:比自己低5-10cm 身高需求:[171,176] 17、对体重的要求:无所谓 3、年龄:23.0 18、年龄倾向:无所谓 岁数需求:[0, 40] 19、对家乡要求:无所谓 20、理想型:爱喝酒的 21、爱好或者特长:健身 徒步 22、对自己的评价:我是抽象小男孩 ', '候选人14信息：1、微信号:Jackchen2002yz 2、性别:男 4、家乡:浙江绍兴 5、是否工作:否 7、体重:71kg 8、学历:上财硕 9、星座:双鱼 10、行业:学生 金融 11、收入:无 12、工作时长:在上学 13、mbti:intj 14、颜值自评:还不错┋很多人说我好看 15、颜值要求:看脸┋微看 6、身高:178 16、对身高的要求:比自己低0-5cm┋比自己低5-10cm┋比自己低10cm以上 身高需求:[140, 168] 17、对体重的要求:瘦一点┋无所谓┋其他〖别太胖就行〗 3、年龄:23.0 18、年龄倾向:相差2岁以内，倾向比自己大┋相差5岁以内，倾向比自己大 岁数需求:[21,25] 19、对家乡要求:无所谓 20、理想型:喜欢阳光开朗愿意聊天的，喜欢小美及以上，学历工作无所谓，身材不要太胖就行，有共同爱好：健身，音乐，运动等 21、爱好或者特长:健身入门级，音乐骨灰级爱好者，唱歌包好听的，男低音选手 22、对自己的评价:我是半i半e的男生，非常乐于交流。也喜欢接触新领域，尊重对方的爱好和观点，没有大男子主义。想认识更多志同道合和有共同爱好的人 ', '候选人15信息：1、微信号:JH636068 2、性别:男 4、家乡:天津 5、是否工作:否 7、体重:150 8、学历:华师本 9、星座:双鱼座 10、行业:创业 11、收入:(空) 12、工作时长:随时 13、mbti:enfp 14、颜值自评:还不错 15、颜值要求:看脸 6、身高:181 16、对身高的要求:比自己低10cm以上 身高需求:[140,171] 17、对体重的要求:强壮有肌肉 3、年龄:26.0 18、年龄倾向:无所谓 岁数需求:[0, 40] 19、对家乡要求:无所谓 20、理想型:能同频的人 21、爱好或者特长:喜欢弹琴唱歌 22、对自己的评价:一个热爱生活的人 ', '候选人16信息：1、微信号:William 2、性别:男 4、家乡:上海 5、是否工作:已工作 7、体重:70 8、学历:华五硕 9、星座:天秤 10、行业:法律 11、收入:(空) 12、工作时长:8h 13、mbti:Enfp 14、颜值自评:还不错 15、颜值要求:看脸 6、身高:175 16、对身高的要求:比自己低0-5cm┋比自己低5-10cm┋比自己低10cm以上 身高需求:[140,175] 17、对体重的要求:无所谓 3、年龄:28.0 18、年龄倾向:相差5岁以内，倾向比自己小 岁数需求:[23,33] 19、对家乡要求:无所谓 20、理想型:1.容易知足，攀比心不高。2.出现矛盾后愿意妥协退让3.性格温柔善良会体谅人 21、爱好或者特长:篮球，桌游 22、对自己的评价:相信自己总会成为该成为的人 ', '候选人17信息：1、微信号:Scy2556228971 2、性别:男 4、家乡:成都 5、是否工作:否 7、体重:67kg 8、学历:上财硕 9、星座:处女 10、行业:金融 11、收入:无 12、工作时长:无 13、mbti:esfp 14、颜值自评:一般 15、颜值要求:看脸┋微看 6、身高:175 16、对身高的要求:比自己低0-5cm┋比自己低5-10cm┋比自己低10cm以上 身高需求:[140,175] 17、对体重的要求:瘦一点┋强壮有肌肉 3、年龄:22.0 18、年龄倾向:相差2岁以内，倾向比自己小┋相差2岁以内，倾向比自己大┋相差5岁以内，倾向比自己小┋相差5岁以内，倾向比自己大┋无所谓 岁数需求:[20,28] 19、对家乡要求:无所谓 20、理想型:古灵精怪的甜妹，笑起来要好看治愈 21、爱好或者特长:健身刚刚九个月，上周去了黄山，川菜做的还行 22、对自己的评价:表面外向开朗，内心腼腆小男孩 ', '候选人18信息：1、微信号:1721770724 2、性别:男 4、家乡:上海 5、是否工作:否 7、体重:76 8、学历:上交硕 9、星座:双子 10、行业:ai 11、收入:0 12、工作时长:0 13、mbti:enfp 14、颜值自评:一般 15、颜值要求:微看 6、身高:176 16、对身高的要求:比自己低0-5cm 身高需求:[171,176] 17、对体重的要求:无所谓 3、年龄:23.0 18、年龄倾向:相差2岁以内，倾向比自己大 岁数需求:[21,25] 19、对家乡要求:无所谓 20、理想型:姐姐 21、爱好或者特长:足球 22、对自己的评价:温柔男生 ', '候选人19信息：1、微信号:wbc845593025 2、性别:男 4、家乡:山西临汾 5、是否工作:否 7、体重:75kg 8、学历:上交博在读 9、星座:射手 10、行业:计算机 11、收入:10w-20w 12、工作时长:965 13、mbti:infp 14、颜值自评:还不错 15、颜值要求:看脸 6、身高:185 16、对身高的要求:比自己低10cm以上 身高需求:[140,175] 17、对体重的要求:瘦一点 3、年龄:24.0 18、年龄倾向:相差2岁以内，倾向比自己小┋相差5岁以内，倾向比自己小 岁数需求:[20,29] 19、对家乡要求:无所谓 20、理想型:喜欢阳光开朗，皮肤好的女生，比例好的话身高160-175之间都可以，学历没有要求 21、爱好或者特长:健身坚持半年，爱好篮球、hiphop说唱音乐，喜欢小猫小狗，空闲的时候去看音乐节或者livehouse，看电影，打台球，陪女生逛街也喜欢 22、对自己的评价:不熟的时候比较腼腆，熟了会很外向，性格比较温柔，情绪非常稳定，skin在男生里属于比较白的类型 ', '候选人20信息：1、微信号:fhd40616 2、性别:男 4、家乡:山东 5、是否工作:是 7、体重:63 8、学历:本科 9、星座:射手 10、行业:法律行业 11、收入:10-20 12、工作时长:965 13、mbti:entp 14、颜值自评:还不错┋一般 15、颜值要求:微看 6、身高:173 16、对身高的要求:比自己低0-5cm┋比自己低5-10cm 身高需求:[163,173] 17、对体重的要求:瘦一点 3、年龄:28.0 18、年龄倾向:相差5岁以内，倾向比自己小 岁数需求:[23,33] 19、对家乡要求:无所谓 20、理想型:性格主动 情绪稳定 21、爱好或者特长:摄影 羽毛球 徒步 爬山 citywalk 追剧 唱歌 22、对自己的评价:幽默阳光 ', '候选人21信息：, '候选人22信息：1、微信号:18268143283 2、性别:男 4、家乡:合肥 5、是否工作:是 7、体重:78 8、学历:复旦硕 9、星座:巨蟹 10、行业:芯片设计 11、收入:(空) 12、工作时长:965 13、mbti:enfp 14、颜值自评:一般 15、颜值要求:看脸┋微看┋不看 6、身高:185 16、对身高的要求:比自己高0-5cm┋比自己高5-10cm┋比自己高10cm以上┋比自己低0-5cm┋比自己低5-10cm┋比自己低10cm以上 身高需求:[140,200] 17、对体重的要求:瘦一点┋无所谓 3、年龄:28.0 18、年龄倾向:相差5岁以内，倾向比自己小 岁数需求:[23,33] 19、对家乡要求:要求是：〖江浙沪附近〗 20、理想型:希望能遇到温柔大方，善解人意，如果是高情商就更好了，收入相当，专业相近 21、爱好或者特长:平时喜欢打乒乓球,了解科技前沿,以及逛有趣的展会，比如之前的人工智能展会，，空下来喜欢自己做饭，健身 22、对自己的评价:读书期间成绩还不错，绩点前1%，拿过国家奖学金，优秀毕业生,保研到复旦,做事认真负责的理工男,工作以后发现圈子比较小,所以接触的女生也不多，非典型理工男，可以侃侃而谈,不木讷,表达能力强,共情能力强，能提供情绪价值,情商高,拥有有趣的灵魂 ']"></textarea>
            <button onclick="startMatch()">开始匹配</button>
            <div id="singleResult" class="result"></div>
        </div>
    </div>

    <script>
        // 单次匹配
        async function startMatch() {
            const userInfo = document.getElementById('userInfo').value;
            const candidateInfo = document.getElementById('candidateInfo').value;
            const resultDiv = document.getElementById('singleResult');
            resultDiv.innerHTML = '⏳ 分析中...';

            try {
                const response = await fetch('/api/match', {
                    method: 'POST',
                    headers: {'Content-Type': 'application/json'},
                    body: JSON.stringify({
                        user_info: userInfo,
                        candidate_info: candidateInfo
                    })
                });

                const reader = response.body.getReader();
                const decoder = new TextDecoder();
                let result = '';

                while(true) {
                    const { done, value } = await reader.read();
                    if (done) break;
                    result += decoder.decode(value);
                    resultDiv.innerHTML = result;
                }
            } catch (err) {
                resultDiv.innerHTML = `❌ 错误: ${err.message}`;
            }
        }

        // 批量处理
       // async function uploadFile() {
            //const fileInput = document.getElementById('excelFile');
            //const resultDiv = document.getElementById('batchResult');
            //resultDiv.innerHTML = '⏳ 处理中...';

            //const formData = new FormData();
            //formData.append('file', fileInput.files[0]);

           // try {
               // const response = await fetch('/api/batch', {
               //     method: 'POST',
                //    body: formData
               // });

               // const data = await response.json();
               // if (data.error) {
                //    resultDiv.innerHTML = `❌ 错误: ${data.error}`;
               // } else {
               //     resultDiv.innerHTML = `✅ 处理完成！<a href="${data.download_url}">下载结果</a>`;
                //}
            //} catch (err) {
              //  resultDiv.innerHTML = `❌ 错误: ${err.message}`;
            //}
        //}
    </script>
</body>
</html>
